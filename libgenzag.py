import os, sys
from random import random, uniform, choice
try:
	import bpy, mathutils
except:
	bpy=None

if bpy:
	bpy.types.Material.zigzag_object_type = bpy.props.EnumProperty(
		name='type',
		items=[
			("NONE", "none", "no type"), 
			("UPPER_LIP", "upper lip", "material is upper lip of mouth"), 
			("LOWER_LIP", "lower lip", "material is lower lip of mouth"), 
			("UPPER_EYELID", "upper eyelid", "material is upper lid of eyes"), 
			("LOWER_EYELID", "lower eyelid", "material is lower lid of eyes"), 
			("EYES", "pupil", "material is pulil of eyes"), 
		]
	)

def setup_face_materials(ob):
	mat = bpy.data.materials.new(name='skin')
	mat.diffuse_color = [uniform(0.4,0.8), uniform(0.2,0.5), uniform(0.3,0.6), 1]
	ob.data.materials.append(mat)

	mat = bpy.data.materials.new(name='pupil')
	mat.diffuse_color = [uniform(0,0.3), uniform(0,0.3), uniform(0,0.5), 1]
	ob.data.materials.append(mat)
	mat.zigzag_object_type = "EYES"

	mat = bpy.data.materials.new(name='eye')
	mat.diffuse_color = [uniform(0.8,1), uniform(0.8,1), uniform(0.8,1), 1]
	ob.data.materials.append(mat)


	mat = bpy.data.materials.new(name='lower-theeth')
	mat.diffuse_color = [uniform(0.8,1), uniform(0.8,1), uniform(0.8,1), 1]
	ob.data.materials.append(mat)


	mat = bpy.data.materials.new(name='hair')
	mat.diffuse_color = [uniform(0.4,0.8), uniform(0.2,0.5), uniform(0.3,0.6), 1]
	ob.data.materials.append(mat)

	mat = bpy.data.materials.new(name='mouth')
	mat.diffuse_color = [uniform(0.3,0.8), uniform(0,0.1), uniform(0.1,0.3), 1]
	ob.data.materials.append(mat)

	mat = bpy.data.materials.new(name='black')
	mat.diffuse_color = [0,0,0, 1]
	ob.data.materials.append(mat)

	mat = bpy.data.materials.new(name='upper-theeth')
	s = 0.5
	mat.diffuse_color = [uniform(0.8,1)*s, uniform(0.8,1)*s, uniform(0.8,1)*s, 1]
	ob.data.materials.append(mat)

	mat = bpy.data.materials.new(name='lower-lip')
	mat.diffuse_color = [uniform(0.5,0.9), uniform(0.1,0.3), uniform(0.2,0.5), 1]
	ob.data.materials.append(mat)
	mat.zigzag_object_type = "LOWER_LIP"

	mat = bpy.data.materials.new(name='eye-lids')
	mat.diffuse_color = [uniform(0.4,0.8), uniform(0.2,0.5), uniform(0.3,0.6), 1]
	ob.data.materials.append(mat)

	mat = bpy.data.materials.new(name='eye-lids-upper')
	mat.diffuse_color = [uniform(0.1,0.3), uniform(0,0.1), uniform(0,0.1), 1]
	ob.data.materials.append(mat)
	mat.zigzag_object_type = "UPPER_EYELID"

	mat = bpy.data.materials.new(name='eye-lids-lower')
	mat.diffuse_color = [uniform(0.2,0.5), uniform(0,0.3), uniform(0,0.3), 1]
	ob.data.materials.append(mat)
	mat.zigzag_object_type = "LOWER_EYELID"

def basic_face_style(ob):
	## eyes
	for poly in ob.data.polygons[0:64]:
		poly.material_index=1
	for poly in ob.data.polygons[0:32]:
		poly.material_index=2

	## head
	for poly in ob.data.polygons[-300:]:
		poly.material_index=4

	## ears
	#for poly in ob.data.polygons[-100:]:
	#	poly.material_index=5
	#for poly in ob.data.polygons[150:200]:

	## mouth
	for poly in ob.data.polygons[170:194]:
		poly.material_index=5

	## upper lip
	#for poly in ob.data.polygons[170:178]:
	#	poly.material_index=6
	## lower lip
	for poly in ob.data.polygons[178:182]:
		poly.material_index=8


	## back of mouth - black
	ob.data.polygons[190].material_index=6
	ob.data.polygons[191].material_index=6

	## fixes side of nose
	for poly in ob.data.polygons[170:174]:
		poly.material_index=0


	## upper theeth
	for poly in ob.data.polygons[-48:]:
		poly.material_index=7

	## lower theeth
	for poly in ob.data.polygons[-24:]:
		poly.material_index=3

	## eye lids
	for poly in ob.data.polygons[192:246]:
		poly.material_index=9

	## uppe eye lids
	for poly in ob.data.polygons[220:230]:
		poly.material_index=10
	#ob.data.polygons[240].material_index=6

	for poly in ob.data.polygons[202:206]:
		poly.material_index=11

def monkey(materials=True):
	bpy.ops.mesh.primitive_cube_add()
	cu = bpy.context.active_object
	cu.scale *= 0.04
	#cu.location = [-0.144, -0.69, -0.66]
	cu.location = [-0.144, -0.62, -0.66]
	mod = cu.modifiers.new(name='array',type='ARRAY')
	mod.relative_offset_displace[0] = 1.2
	mod.count=4
	bpy.ops.object.modifier_apply(modifier='array')
	mod = cu.modifiers.new(name='array',type='ARRAY')
	mod.relative_offset_displace[0] = 0
	mod.relative_offset_displace[2] = -1.9
	bpy.ops.object.modifier_apply(modifier='array')

	bpy.ops.mesh.primitive_monkey_add()
	ob = bpy.context.active_object

	monkey_mod = {0: (0.002, 0.07, -0.004), 1: (-0.002, 0.07, -0.004), 2: (-0.013, 0.065, 0.015), 3: (0.013, 0.065, 0.015), 4: (-0.027, 0.041, 0.025), 5: (0.027, 0.041, 0.025), 6: (0.0, 0.048, 0.035), 7: (0.0, 0.048, 0.035), 8: (0.0, 0.069, 0.021), 9: (0.0, 0.069, 0.021), 10: (0.001, 0.068, -0.007), 11: (-0.001, 0.068, -0.007), 12: (-0.004, 0.069, -0.004), 13: (0.004, 0.069, -0.004), 14: (0.014, 0.071, 0.015), 15: (-0.014, 0.071, 0.015), 16: (0.027, 0.052, 0.025), 17: (-0.027, 0.052, 0.025), 18: (0.036, 0.052, 0.001), 19: (-0.036, 0.052, 0.001), 20: (0.021, 0.067, 0.0), 21: (-0.021, 0.067, 0.0), 22: (-0.007, 0.067, 0.001), 23: (0.007, 0.067, 0.001), 24: (-0.004, 0.069, 0.002), 25: (0.004, 0.069, 0.002), 26: (0.014, 0.071, -0.013), 27: (-0.014, 0.071, -0.013), 28: (0.027, 0.052, -0.027), 29: (-0.027, 0.052, -0.027), 30: (0.0, 0.048, -0.036), 31: (0.0, 0.048, -0.036), 32: (0.0, 0.069, -0.02), 33: (0.0, 0.069, -0.02), 34: (0.001, 0.068, 0.006), 35: (-0.001, 0.068, 0.006), 36: (0.002, 0.07, 0.002), 37: (-0.002, 0.07, 0.002), 38: (-0.013, 0.065, -0.013), 39: (0.013, 0.065, -0.013), 40: (-0.027, 0.041, -0.027), 41: (0.027, 0.041, -0.027), 42: (-0.036, 0.04, 0.001), 43: (0.036, 0.04, 0.001), 44: (-0.02, 0.062, 0.0), 45: (0.02, 0.062, 0.0), 46: (0.005, 0.07, 0.001), 47: (-0.005, 0.07, 0.001), 48: (-0.024, 0.056, 0.001), 49: (0.024, 0.056, 0.001), 50: (-0.021, 0.057, -0.02), 51: (0.021, 0.057, -0.02), 52: (0.001, 0.064, -0.028), 53: (-0.001, 0.064, -0.028), 54: (0.018, 0.067, -0.02), 55: (-0.018, 0.067, -0.02), 56: (0.027, 0.065, 0.001), 57: (-0.027, 0.065, 0.001), 58: (0.018, 0.067, 0.018), 59: (-0.018, 0.067, 0.018), 60: (0.001, 0.077, 0.001), 61: (-0.001, 0.077, 0.001), 62: (0.001, 0.064, 0.027), 63: (-0.001, 0.064, 0.027), 64: (-0.021, 0.057, 0.018), 65: (0.021, 0.057, 0.018), 68: (0.0, -0.056, 0.135), 71: (0.0, 0.0, 0.136), 113: (0.0, 0.0, -0.064), 114: (0.0, 0.0, -0.064), 115: (0.0, 0.0, -0.036), 116: (0.0, 0.0, -0.036), 129: (0.0, -0.067, 0.136), 130: (0.119, -0.067, 0.084), 131: (-0.119, -0.067, 0.084), 132: (0.127, 0.0, 0.084), 133: (-0.127, 0.0, 0.084), 134: (0.123, -0.041, 0.0), 135: (-0.123, -0.041, 0.0), 136: (0.0, -0.041, 0.0), 145: (0.0, 0.0, -0.036), 146: (0.0, 0.0, -0.036), 167: (0.039, 0.0, 0.135), 168: (-0.039, 0.0, 0.135), 169: (0.041, 0.0, 0.0), 170: (-0.041, 0.0, 0.0), 171: (0.036, 0.0, 0.0), 172: (-0.036, 0.0, 0.0), 184: (0.035, -0.056, 0.135), 185: (-0.035, -0.056, 0.135), 216: (0.0, -0.001, 0.055), 217: (0.092, -0.001, 0.055), 218: (-0.092, -0.001, 0.055), 219: (0.102, 0.0, 0.087), 220: (-0.102, 0.0, 0.087), 221: (0.102, 0.0, 0.084), 222: (-0.102, 0.0, 0.084), 223: (0.0, 0.178, 0.243), 224: (0.104, 0.175, 0.186), 225: (-0.104, 0.175, 0.186), 226: (0.102, 0.0, 0.087), 227: (-0.102, 0.0, 0.087), 228: (0.135, 0.185, 0.044), 229: (-0.135, 0.185, 0.044), 230: (0.0, 0.185, 0.042), 257: (0.0, 0.055, 0.0), 258: (0.0, 0.055, 0.0), 259: (0.0, 0.055, 0.0), 260: (0.0, 0.055, 0.0), 261: (0.0, 0.055, 0.0), 262: (0.0, 0.055, 0.0), 263: (0.0, 0.055, 0.0), 264: (0.0, 0.055, 0.0), 265: (0.0, 0.055, 0.0), 266: (0.0, 0.055, 0.0), 267: (0.0, 0.055, 0.0), 268: (0.0, 0.055, 0.0), 269: (0.0, 0.055, 0.0), 270: (0.0, 0.055, 0.0), 271: (0.0, 0.055, 0.0), 272: (0.0, 0.055, 0.0), 273: (0.0, 0.055, 0.0), 274: (0.0, 0.055, 0.0), 275: (0.0, 0.055, 0.0), 276: (0.0, 0.055, 0.0), 277: (0.0, 0.055, 0.0), 278: (0.0, 0.055, 0.0), 279: (0.0, 0.055, 0.0), 280: (0.0, 0.055, 0.0), 281: (0.0, 0.055, 0.0), 282: (0.0, 0.055, 0.0)}
	#{68: (0.0, -0.056, 0.135), 71: (0.0, 0.0, 0.136), 113: (0.0, 0.0, -0.064), 114: (0.0, 0.0, -0.064), 115: (0.0, 0.0, -0.036), 116: (0.0, 0.0, -0.036), 129: (0.0, -0.067, 0.136), 130: (0.119, -0.067, 0.084), 131: (-0.119, -0.067, 0.084), 132: (0.127, 0.0, 0.084), 133: (-0.127, 0.0, 0.084), 134: (0.123, -0.041, 0.0), 135: (-0.123, -0.041, 0.0), 136: (0.0, -0.041, 0.0), 145: (0.0, 0.0, -0.036), 146: (0.0, 0.0, -0.036), 167: (0.039, 0.0, 0.135), 168: (-0.039, 0.0, 0.135), 169: (0.041, 0.0, 0.0), 170: (-0.041, 0.0, 0.0), 171: (0.036, 0.0, 0.0), 172: (-0.036, 0.0, 0.0), 184: (0.035, -0.056, 0.135), 185: (-0.035, -0.056, 0.135), 216: (0.0, -0.001, 0.055), 217: (0.092, -0.001, 0.055), 218: (-0.092, -0.001, 0.055), 219: (0.102, 0.0, 0.087), 220: (-0.102, 0.0, 0.087), 221: (0.102, 0.0, 0.084), 222: (-0.102, 0.0, 0.084), 223: (0.0, 0.178, 0.243), 224: (0.104, 0.175, 0.186), 225: (-0.104, 0.175, 0.186), 226: (0.102, 0.0, 0.087), 227: (-0.102, 0.0, 0.087), 228: (0.135, 0.185, 0.044), 229: (-0.135, 0.185, 0.044), 230: (0.0, 0.185, 0.042)}
	for vidx in monkey_mod:
		ob.data.vertices[vidx].co += mathutils.Vector(monkey_mod[vidx])

	cu.select_set(True)
	bpy.ops.object.join()

	if materials:
		setup_face_materials(ob)
		basic_face_style(ob)


	return ob

def cat():
	cat_mod = {0: (0.493, 0.194, -0.223), 1: (-0.493, 0.194, -0.223), 2: (0.542, 0.233, -0.173), 3: (-0.542, 0.233, -0.173), 4: (0.607, 0.256, -0.183), 5: (-0.607, 0.256, -0.183), 6: (0.777, 0.208, -0.224), 7: (-0.777, 0.208, -0.224), 8: (0.656, 0.202, -0.219), 9: (-0.656, 0.202, -0.219), 10: (0.516, 0.18, -0.28), 11: (-0.516, 0.18, -0.28), 12: (0.343, 0.148, -0.329), 13: (-0.343, 0.148, -0.329), 14: (0.494, 0.206, -0.355), 15: (-0.494, 0.206, -0.355), 16: (0.642, 0.236, -0.312), 17: (-0.642, 0.236, -0.312), 18: (0.14, 0.123, -0.232), 19: (-0.14, 0.123, -0.232), 20: (0.135, 0.116, -0.286), 21: (-0.135, 0.116, -0.286), 22: (0.16, 0.102, -0.238), 23: (-0.16, 0.102, -0.238), 24: (0.123, 0.087, -0.122), 25: (-0.123, 0.087, -0.122), 26: (0.091, 0.083, -0.19), 27: (-0.091, 0.083, -0.19), 28: (0.078, 0.068, -0.227), 29: (-0.078, 0.068, -0.227), 30: (0.074, 0.098, -0.031), 31: (-0.074, 0.098, -0.031), 32: (0.129, 0.102, -0.008), 33: (-0.129, 0.102, -0.008), 34: (0.172, 0.097, 0.002), 35: (-0.172, 0.097, 0.002), 36: (0.284, 0.144, 0.013), 37: (-0.284, 0.144, 0.013), 38: (0.212, 0.173, 0.045), 39: (-0.212, 0.173, 0.045), 40: (0.162, 0.196, 0.056), 41: (-0.162, 0.196, 0.056), 42: (0.384, 0.254, -0.089), 43: (-0.384, 0.254, -0.089), 44: (0.389, 0.228, -0.1), 45: (-0.389, 0.228, -0.1), 46: (0.412, 0.185, -0.118), 47: (-0.412, 0.185, -0.118), 48: (0.373, 0.149, -0.105), 49: (-0.373, 0.149, -0.105), 50: (0.263, 0.115, -0.023), 51: (-0.263, 0.115, -0.023), 52: (0.175, 0.088, -0.053), 53: (-0.175, 0.088, -0.053), 54: (0.151, 0.083, -0.143), 55: (-0.151, 0.083, -0.143), 56: (0.189, 0.093, -0.187), 57: (-0.189, 0.093, -0.187), 58: (0.318, 0.128, -0.239), 59: (-0.318, 0.128, -0.239), 60: (0.277, 0.069, -0.158), 61: (-0.277, 0.069, -0.158), 62: (0.449, 0.159, -0.236), 63: (-0.449, 0.159, -0.236), 64: (0.435, 0.163, -0.198), 65: (-0.435, 0.163, -0.198), 66: (0.0, -0.003, -0.333), 67: (0.0, 0.002, -0.325), 68: (0.0, -0.532, 0.228), 69: (0.0, -0.491, -0.06), 70: (0.0, -0.485, -0.101), 71: (0.0, -0.314, 0.279), 72: (0.0, 0.003, -0.294), 73: (0.0, -0.007, -0.29), 74: (0.0, 0.612, -0.212), 75: (0.0, 0.641, -0.366), 76: (0.0, 0.788, -0.642), 77: (0.0, 0.202, -0.569), 78: (0.996, 0.086, -0.458), 79: (-0.996, 0.086, -0.458), 80: (0.985, 0.093, -0.465), 81: (-0.985, 0.093, -0.465), 82: (0.701, -0.024, -0.602), 83: (-0.701, -0.024, -0.602), 84: (0.476, -0.062, -0.281), 85: (-0.476, -0.062, -0.281), 86: (0.386, -0.061, -0.208), 87: (-0.386, -0.061, -0.208), 88: (0.178, -0.064, -0.166), 89: (-0.178, -0.064, -0.166), 90: (0.0, -0.076, -0.164), 91: (0.923, 0.119, -0.353), 92: (-0.923, 0.119, -0.353), 93: (0.619, 0.135, -0.209), 94: (-0.619, 0.135, -0.209), 95: (0.433, 0.216, -0.141), 96: (-0.433, 0.216, -0.141), 97: (0.098, 0.105, 0.054), 98: (-0.098, 0.105, 0.054), 99: (0.075, 0.078, 0.05), 100: (-0.075, 0.078, 0.05), 101: (0.029, 0.01, -0.053), 102: (-0.029, 0.01, -0.053), 103: (0.06, -0.004, -0.211), 104: (-0.06, -0.004, -0.211), 105: (0.083, -0.008, -0.281), 106: (-0.083, -0.008, -0.281), 107: (0.023, -0.005, -0.328), 108: (-0.023, -0.005, -0.328), 109: (0.034, -0.004, -0.271), 110: (-0.034, -0.004, -0.271), 111: (0.028, 0.011, -0.288), 112: (-0.028, 0.011, -0.288), 113: (0.461, 0.103, -0.368), 114: (-0.461, 0.103, -0.368), 115: (0.638, 0.083, -0.252), 116: (-0.638, 0.083, -0.252), 117: (0.54, 0.119, -0.182), 118: (-0.54, 0.119, -0.182), 119: (0.368, 0.126, -0.102), 120: (-0.368, 0.126, -0.102), 121: (0.262, 0.112, -0.02), 122: (-0.262, 0.112, -0.02), 123: (0.192, 0.086, 0.022), 124: (-0.192, 0.086, 0.022), 125: (0.142, 0.022, 0.003), 126: (-0.142, 0.022, 0.003), 127: (0.087, -0.003, -0.158), 128: (-0.087, -0.003, -0.158), 129: (0.0, -0.542, 0.269), 130: (0.186, -0.498, 0.19), 131: (-0.186, -0.498, 0.19), 132: (0.219, -0.442, 0.216), 133: (-0.219, -0.442, 0.216), 134: (0.187, -0.464, 0.13), 135: (-0.187, -0.464, 0.13), 136: (0.0, -0.456, 0.138), 137: (0.0, -0.394, -0.048), 138: (0.0, -0.43, 0.002), 139: (0.03, -0.413, -0.035), 140: (-0.03, -0.413, -0.035), 141: (0.041, -0.4, -0.015), 142: (-0.041, -0.4, -0.015), 143: (0.018, -0.485, -0.049), 144: (-0.018, -0.485, -0.049), 145: (0.688, 0.066, -0.239), 146: (-0.688, 0.066, -0.239), 147: (0.473, 0.125, -0.138), 148: (-0.473, 0.125, -0.138), 149: (0.3, 0.134, -0.05), 150: (-0.3, 0.134, -0.05), 151: (0.139, 0.087, 0.025), 152: (-0.139, 0.087, 0.025), 153: (0.102, 0.042, -0.011), 154: (-0.102, 0.042, -0.011), 155: (0.079, -0.003, -0.089), 156: (-0.079, -0.003, -0.089), 157: (0.101, -0.007, -0.19), 158: (-0.101, -0.007, -0.19), 159: (0.101, -0.007, -0.246), 160: (-0.101, -0.007, -0.246), 161: (0.02, -0.004, -0.314), 162: (-0.02, -0.004, -0.314), 163: (0.148, -0.126, -0.063), 164: (-0.148, -0.126, -0.063), 165: (0.507, -0.107, -0.143), 166: (-0.507, -0.107, -0.143), 167: (0.496, -0.164, 0.026), 168: (-0.496, -0.164, 0.026), 169: (0.205, -0.264, -0.004), 170: (-0.205, -0.264, -0.004), 171: (0.217, -0.161, -0.097), 172: (-0.217, -0.161, -0.097), 173: (0.092, -0.209, -0.057), 174: (-0.092, -0.209, -0.057), 175: (0.0, -0.236, -0.013), 176: (0.0, -0.325, -0.129), 177: (0.0, -0.148, -0.251), 178: (0.119, 0.005, -0.069), 179: (-0.119, 0.005, -0.069), 180: (0.135, 0.052, -0.234), 181: (-0.135, 0.052, -0.234), 182: (0.049, 0.034, -0.255), 183: (-0.049, 0.034, -0.255), 184: (0.179, -0.483, 0.207), 185: (-0.179, -0.483, 0.207), 186: (0.17, -0.437, 0.04), 187: (-0.17, -0.437, 0.04), 188: (0.0, -0.5, 0.031), 189: (0.0, -0.486, -0.046), 190: (0.014, -0.491, -0.063), 191: (-0.014, -0.491, -0.063), 192: (0.013, -0.491, -0.056), 193: (-0.013, -0.491, -0.056), 194: (0.011, -0.487, -0.062), 195: (-0.011, -0.487, -0.062), 196: (0.004, -0.485, -0.081), 197: (-0.004, -0.485, -0.081), 198: (0.0, -0.485, -0.105), 199: (0.004, -0.485, -0.088), 200: (-0.004, -0.485, -0.088), 201: (0.007, -0.486, -0.074), 202: (-0.007, -0.486, -0.074), 203: (0.008, -0.488, -0.072), 204: (-0.008, -0.488, -0.072), 205: (0.009, -0.488, -0.08), 206: (-0.009, -0.488, -0.08), 207: (0.0, -0.488, -0.081), 208: (1.102, 0.184, -0.559), 209: (-1.102, 0.184, -0.559), 210: (0.236, -0.222, -0.049), 211: (-0.236, -0.222, -0.049), 212: (0.362, -0.161, -0.098), 213: (-0.362, -0.161, -0.098), 214: (1.087, 0.161, -0.541), 215: (-1.087, 0.161, -0.541), 216: (0.0, -0.43, 0.223), 217: (0.151, -0.435, 0.215), 218: (-0.151, -0.435, 0.215), 219: (0.181, -0.44, 0.237), 220: (-0.181, -0.44, 0.237), 221: (0.176, -0.44, 0.215), 222: (-0.176, -0.44, 0.215), 223: (0.0, 0.143, -0.165), 224: (0.957, 0.21, -0.38), 225: (-0.957, 0.21, -0.38), 226: (0.226, -0.353, 0.176), 227: (-0.226, -0.353, 0.176), 228: (0.564, 0.118, -0.244), 229: (-0.564, 0.118, -0.244), 230: (0.0, 0.078, -0.225), 231: (0.065, 0.026, -0.25), 232: (-0.065, 0.026, -0.25), 233: (0.126, 0.039, -0.232), 234: (-0.126, 0.039, -0.232), 235: (0.124, 0.004, -0.052), 236: (-0.124, 0.004, -0.052), 237: (0.09, -0.003, -0.128), 238: (-0.09, -0.003, -0.128), 239: (0.15, 0.013, -0.026), 240: (-0.15, 0.013, -0.026), 241: (0.221, 0.071, 0.009), 242: (-0.221, 0.071, 0.009), 243: (0.288, 0.094, -0.04), 244: (-0.288, 0.094, -0.04), 245: (0.383, 0.115, -0.122), 246: (-0.383, 0.115, -0.122), 247: (0.489, 0.103, -0.2), 248: (-0.489, 0.103, -0.2), 249: (0.538, 0.093, -0.252), 250: (-0.538, 0.093, -0.252), 251: (0.239, 0.051, -0.25), 252: (-0.239, 0.051, -0.25), 253: (0.046, 0.011, -0.26), 254: (-0.046, 0.011, -0.26), 255: (0.049, -0.002, -0.224), 256: (-0.049, -0.002, -0.224), 257: (0.091, 0.066, -0.163), 258: (-0.091, 0.066, -0.163), 259: (0.097, 0.078, -0.223), 260: (-0.097, 0.078, -0.223), 261: (0.413, 0.16, -0.309), 262: (-0.413, 0.16, -0.309), 263: (0.599, 0.186, -0.244), 264: (-0.599, 0.186, -0.244), 265: (0.548, 0.207, -0.201), 266: (-0.548, 0.207, -0.201), 267: (0.434, 0.221, -0.127), 268: (-0.434, 0.221, -0.127), 269: (0.35, 0.204, -0.047), 270: (-0.35, 0.204, -0.047), 271: (0.281, 0.183, 0.017), 272: (-0.281, 0.183, 0.017), 273: (0.183, 0.097, 0.023), 274: (-0.183, 0.097, 0.023), 275: (0.105, 0.064, -0.083), 276: (-0.105, 0.064, -0.083), 277: (0.138, 0.075, -0.01), 278: (-0.138, 0.075, -0.01), 279: (0.231, 0.125, -0.256), 280: (-0.231, 0.125, -0.256), 281: (0.15, 0.101, -0.228), 282: (-0.15, 0.101, -0.228), 283: (0.019, -0.001, -0.273), 284: (-0.019, -0.001, -0.273), 285: (0.05, 0.004, -0.226), 286: (-0.05, 0.004, -0.226), 287: (0.016, 0.017, -0.136), 288: (-0.016, 0.017, -0.136), 289: (0.028, 0.064, 0.035), 290: (-0.028, 0.064, 0.035), 291: (0.161, 0.171, 0.08), 292: (-0.161, 0.171, 0.08), 293: (0.214, 0.181, 0.036), 294: (-0.214, 0.181, 0.036), 295: (0.546, 0.255, -0.213), 296: (-0.546, 0.255, -0.213), 297: (0.814, 0.234, -0.343), 298: (-0.814, 0.234, -0.343), 299: (0.998, 0.19, -0.417), 300: (-0.998, 0.19, -0.417), 301: (0.0, 0.059, -0.14), 302: (0.0, 0.319, -0.074), 303: (0.0, 0.336, -0.791), 304: (0.0, 0.033, -0.528), 305: (0.0, -0.073, -0.188), 306: (0.0, -0.11, -0.293), 307: (0.0, -0.034, -0.436), 308: (0.0, 0.016, -0.494), 309: (0.631, 0.132, -0.297), 310: (-0.631, 0.132, -0.297), 311: (0.086, 0.183, 0.152), 312: (-0.086, 0.183, 0.152), 313: (0.087, 0.535, 0.362), 314: (-0.087, 0.535, 0.362), 315: (0.14, 0.739, -0.567), 316: (-0.14, 0.739, -0.567), 317: (0.872, 0.331, -0.372), 318: (-0.872, 0.331, -0.372), 319: (0.991, 0.507, -0.54), 320: (-0.991, 0.507, -0.54), 321: (0.695, 0.999, -1.187), 322: (-0.695, 0.999, -1.187), 323: (0.325, 0.846, -0.821), 324: (-0.325, 0.846, -0.821), 325: (1.338, 0.496, -0.868), 326: (-1.338, 0.496, -0.868), 327: (1.42, 0.45, -1.108), 328: (-1.42, 0.45, -1.108), 329: (0.811, 0.063, -0.526), 330: (-0.811, 0.063, -0.526), 331: (1.177, 0.349, -0.759), 332: (-1.177, 0.349, -0.759), 333: (0.518, -0.025, -0.331), 334: (-0.518, -0.025, -0.331), 335: (0.453, -0.055, -0.354), 336: (-0.453, -0.055, -0.354), 337: (0.801, 0.102, -0.613), 338: (-0.801, 0.102, -0.613), 339: (0.232, -0.07, -0.207), 340: (-0.232, -0.07, -0.207), 341: (1.353, 0.485, -0.865), 342: (-1.353, 0.485, -0.865), 343: (1.294, 0.385, -0.782), 344: (-1.294, 0.385, -0.782), 345: (1.167, 0.234, -0.633), 346: (-1.167, 0.234, -0.633), 347: (1.28, 0.538, -0.978), 348: (-1.28, 0.538, -0.978), 349: (0.779, 0.274, -1.109), 350: (-0.779, 0.274, -1.109), 351: (0.644, 0.399, -1.005), 352: (-0.644, 0.399, -1.005), 353: (-0.046, 0.681, -0.322), 354: (0.046, 0.681, -0.322), 355: (-0.019, 0.384, -0.172), 356: (0.019, 0.384, -0.172), 357: (-0.152, 0.116, -0.104), 358: (0.152, 0.116, -0.104), 359: (0.05, 0.146, 0.072), 360: (-0.05, 0.146, 0.072), 361: (0.344, 0.219, -0.043), 362: (-0.344, 0.219, -0.043), 363: (0.263, 0.177, 0.019), 364: (-0.263, 0.177, 0.019), 365: (-0.083, 0.212, -0.125), 366: (0.083, 0.212, -0.125), 367: (-0.002, 0.221, -0.037), 368: (0.002, 0.221, -0.037), 369: (-0.012, 0.379, 0.065), 370: (0.012, 0.379, 0.065), 371: (-0.048, 0.285, 0.049), 372: (0.048, 0.285, 0.049), 373: (-0.02, 0.625, -0.043), 374: (0.02, 0.625, -0.043), 375: (-0.004, 0.524, 0.158), 376: (0.004, 0.524, 0.158), 377: (0.219, 0.657, -0.233), 378: (-0.219, 0.657, -0.233), 379: (0.523, 0.718, -1.044), 380: (-0.523, 0.718, -1.044), 381: (-0.025, 0.411, 0.532), 382: (0.025, 0.411, 0.532), 383: (1.321, 0.428, -0.813), 384: (-1.321, 0.428, -0.813), 385: (1.419, 0.878, -1.685), 386: (-1.419, 0.878, -1.685), 387: (0.175, 0.259, 0.632), 388: (-0.175, 0.259, 0.632), 389: (0.741, 0.612, -0.125), 390: (-0.741, 0.612, -0.125), 391: (0.566, 0.407, 0.195), 392: (-0.566, 0.407, 0.195), 393: (0.262, 0.191, 0.738), 394: (-0.262, 0.191, 0.738), 395: (0.361, 0.077, 0.845), 396: (-0.361, 0.077, 0.845), 397: (0.431, 0.077, 0.87), 398: (-0.431, 0.077, 0.87), 399: (0.29, 0.141, 0.733), 400: (-0.29, 0.141, 0.733), 401: (0.248, 0.215, 0.637), 402: (-0.248, 0.215, 0.637), 403: (0.38, 0.094, 0.775), 404: (-0.38, 0.094, 0.775), 405: (0.298, 0.115, 0.754), 406: (-0.298, 0.115, 0.754), 407: (0.293, 0.237, 0.623), 408: (-0.293, 0.237, 0.623), 409: (0.565, 0.398, 0.163), 410: (-0.565, 0.398, 0.163), 411: (0.822, 0.531, -0.239), 412: (-0.822, 0.531, -0.239), 413: (0.188, 0.262, 0.581), 414: (-0.188, 0.262, 0.581), 415: (0.252, 0.288, 0.514), 416: (-0.252, 0.288, 0.514), 417: (0.758, 0.437, -0.14), 418: (-0.758, 0.437, -0.14), 419: (0.499, 0.377, 0.238), 420: (-0.499, 0.377, 0.238), 421: (0.304, 0.249, 0.608), 422: (-0.304, 0.249, 0.608), 423: (0.284, 0.153, 0.716), 424: (-0.284, 0.153, 0.716), 425: (0.315, 0.135, 0.72), 426: (-0.315, 0.135, 0.72), 427: (0.277, 0.27, 0.542), 428: (-0.277, 0.27, 0.542), 429: (0.185, 0.288, 0.57), 430: (-0.185, 0.288, 0.57), 431: (0.327, 0.208, 0.303), 432: (-0.327, 0.208, 0.303), 433: (0.452, 0.241, 0.165), 434: (-0.452, 0.241, 0.165), 435: (0.592, 0.312, -0.001), 436: (-0.592, 0.312, -0.001), 437: (0.746, 0.442, -0.178), 438: (-0.746, 0.442, -0.178), 439: (0.774, 0.449, -0.208), 440: (-0.774, 0.449, -0.208), 441: (0.912, 0.504, -0.52), 442: (-0.912, 0.504, -0.52), 443: (0.889, 0.513, -0.573), 444: (-0.889, 0.513, -0.573), 445: (0.661, 0.281, 0.01), 446: (-0.661, 0.281, 0.01), 447: (0.19, 0.182, 0.269), 448: (-0.19, 0.182, 0.269), 449: (0.253, 0.277, 0.478), 450: (-0.253, 0.277, 0.478), 451: (0.284, 0.304, 0.462), 452: (-0.284, 0.304, 0.462), 453: (0.745, 0.471, -0.183), 454: (-0.745, 0.471, -0.183), 455: (0.715, 0.46, -0.151), 456: (-0.715, 0.46, -0.151), 457: (0.603, 0.363, -0.026), 458: (-0.603, 0.363, -0.026), 459: (0.453, 0.284, 0.147), 460: (-0.453, 0.284, 0.147), 461: (0.353, 0.259, 0.291), 462: (-0.353, 0.259, 0.291), 463: (0.293, 0.272, 0.552), 464: (-0.293, 0.272, 0.552), 465: (0.323, 0.124, 0.75), 466: (-0.323, 0.124, 0.75), 467: (0.291, 0.127, 0.77), 468: (-0.291, 0.127, 0.77), 469: (0.291, 0.23, 0.666), 470: (-0.291, 0.23, 0.666), 471: (0.453, 0.36, 0.322), 472: (-0.453, 0.36, 0.322), 473: (0.744, 0.46, -0.16), 474: (-0.744, 0.46, -0.16), 475: (0.282, 0.304, 0.496), 476: (-0.282, 0.304, 0.496), 477: (0.526, 0.347, 0.067), 478: (-0.526, 0.347, 0.067), 479: (0.588, 0.409, 0.026), 480: (-0.588, 0.409, 0.026), 481: (0.429, 0.333, 0.265), 482: (-0.429, 0.333, 0.265), 483: (0.394, 0.308, 0.291), 484: (-0.394, 0.308, 0.291), 485: (0.319, 0.299, 0.438), 486: (-0.319, 0.299, 0.438), 487: (0.343, 0.297, 0.423), 488: (-0.343, 0.297, 0.423), 489: (0.31, 0.27, 0.51), 490: (-0.31, 0.27, 0.51), 491: (0.299, 0.267, 0.526), 492: (-0.299, 0.267, 0.526), 493: (0.316, 0.152, 0.748), 494: (-0.316, 0.152, 0.748), 495: (0.411, 0.074, 0.897), 496: (-0.411, 0.074, 0.897), 497: (0.357, 0.073, 0.879), 498: (-0.357, 0.073, 0.879), 499: (0.252, 0.145, 0.843), 500: (-0.252, 0.145, 0.843), 501: (0.436, 0.367, 0.419), 502: (-0.436, 0.367, 0.419), 503: (0.668, 0.564, -0.031), 504: (-0.668, 0.564, -0.031), 505: (0.233, 0.322, 0.595), 506: (-0.233, 0.322, 0.595)}


	bpy.ops.mesh.primitive_monkey_add()
	ob = bpy.context.active_object
	for vidx in cat_mod:
		ob.data.vertices[vidx].co += mathutils.Vector(cat_mod[vidx])

	setup_face_materials(ob)
	basic_face_style(ob)

	return ob

sym_gen = {
	'🐵' : monkey,
	'🐱' : cat,
}

if __name__=='__main__':
	out = None
	for arg in sys.argv:
		if arg.startswith('--out='):
			out = arg.split('=')[-1]
		elif arg.startswith('--generate='):
			sym = arg.split('=')[-1]
			if sym in sym_gen:
				sym_gen[sym]()
			else:
				globals()[sym]()
	if out:
		bpy.ops.wm.save_as_mainfile(filepath=out)
